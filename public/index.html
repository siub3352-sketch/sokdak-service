<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>속닥속닥 - 익명 고민 공감</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="header-wrap">
    <div class="header-left">
      <div class="badge">익명 고민 공감</div>
      <h1>속닥속닥</h1>
      <p class="subtitle">고민 많은 사람들의 따뜻한 공감 공간 ✨</p>
    </div>

    <div class="header-right">
      <p class="notice">모든 활동은 <b>완전 익명</b>이에요!</p>
    </div>
  </div>

  <div class="layout">

    <!-- 왼쪽: 필터 + 목록 -->
    <section class="card left-box">
      <div class="card-title">정렬 · 태그 필터</div>

      <label class="filter-label">정렬 기준</label>
      <select id="sortSelect">
        <option value="latest">최신순</option>
        <option value="likes">공감순</option>
      </select>

      <div class="filter-box">
        <label class="filter-label">태그 필터</label>
        <p class="muted">글 작성 시 태그를 적으면 여기에서 필터링할 수 있어요.</p>
        <div id="tagFilterList"></div>
      </div>

      <h3 class="list-title">고민 목록 <span id="listInfo">(0개)</span></h3>
      <div id="postList"></div>
    </section>

    <!-- 오른쪽: 글 작성 -->
    <section class="card write-box">
      <div class="card-title">고민 작성하기</div>
    
      <form id="postForm">
        <label>제목</label>
        <input id="title" type="text" placeholder="제목을 입력하세요">

        <label>내용</label>
        <textarea id="content" placeholder="어떤 고민인가요?"></textarea>

        <label>태그</label>
        <input id="tags" placeholder="#태그 #이렇게 #구분">

        <label>수정/삭제용 비밀번호</label>
        <input id="password" type="password" placeholder="4자리 이상">

        <label class="premium-row">
          <input id="isPremium" type="checkbox"> 프리미엄 고민 (강조)
        </label>

        <div class="btn-row">
          <button type="reset" class="btn secondary">초기화</button>
          <button type="submit" id="submitBtn" class="btn primary">작성 완료</button>
        </div>
      </form>
    </section>
  </div>

  <!-- ================= 상세 보기 모달 ================= -->
  <div id="detailModal" class="detail-modal hidden">
    <div class="detail-box">

      <h2 id="detailTitle"></h2>
      <p id="detailContent"></p>

      <div id="detailTags" class="detail-tags"></div>

      <p class="detail-info">
        <span id="detailNickname"></span> · 
        <span id="detailTime"></span>
      </p>

      <div class="detail-btn-row">
        <button id="detailLikeBtn" class="btn small">공감하기</button>
        <button id="detailEditBtn" class="btn small">수정</button>
        <button id="detailDeleteBtn" class="btn small delete">삭제</button>
        <button id="detailCloseBtn" class="btn small secondary">닫기</button>
      </div>

      <hr>

      <h3>댓글</h3>
      <div id="detailComments"></div>

      <textarea id="detailCommentInput" placeholder="댓글을 남겨주세요"></textarea>
      <button id="detailCommentSubmit" class="btn small">댓글 작성</button>
    </div>
  </div>

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.4/dist/umd/supabase.min.js"></script>
  <script src="app.js"></script>

</body>
</html>
